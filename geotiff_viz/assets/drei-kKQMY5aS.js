import{a as Me,R as yt,r as M,g as ke}from"./react-4ldeB94U.js";import{j as xe,k as Ie,E as Le,V as C,l as W,m as X,Q as Kt,P as it,O as rt,n as zt,c as N,o as Ce,p as vt}from"./three-BrTM8Gar.js";import{u as V,a as je}from"./fiber-bbDPcakh.js";var Re,Ft=Me;Re=Ft.createRoot,Ft.hydrateRoot;function lt(){return lt=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)({}).hasOwnProperty.call(n,e)&&(o[e]=n[e])}return o},lt.apply(null,arguments)}function Ne(o,t,n){return Math.max(t,Math.min(o,n))}const I={toVector(o,t){return o===void 0&&(o=t),Array.isArray(o)?o:[o,o]},add(o,t){return[o[0]+t[0],o[1]+t[1]]},sub(o,t){return[o[0]-t[0],o[1]-t[1]]},addTo(o,t){o[0]+=t[0],o[1]+=t[1]},subTo(o,t){o[0]-=t[0],o[1]-=t[1]}};function Vt(o,t,n){return t===0||Math.abs(t)===1/0?Math.pow(o,n*5):o*t*n/(t+n*o)}function Ht(o,t,n,e=.15){return e===0?Ne(o,t,n):o<t?-Vt(t-o,n-t,e)+t:o>n?+Vt(o-n,n-t,e)+n:o}function Ue(o,[t,n],[e,i]){const[[u,f],[r,c]]=o;return[Ht(t,u,f,e),Ht(n,r,c,i)]}function Ye(o,t){if(typeof o!="object"||o===null)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var e=n.call(o,t||"default");if(typeof e!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(o)}function Ke(o){var t=Ye(o,"string");return typeof t=="symbol"?t:String(t)}function L(o,t,n){return t=Ke(t),t in o?Object.defineProperty(o,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[t]=n,o}function Bt(o,t){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(o);t&&(e=e.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),n.push.apply(n,e)}return n}function T(o){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bt(Object(n),!0).forEach(function(e){L(o,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(n,e))})}return o}const ne={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Wt(o){return o?o[0].toUpperCase()+o.slice(1):""}const ze=["enter","leave"];function Fe(o=!1,t){return o&&!ze.includes(t)}function Ve(o,t="",n=!1){const e=ne[o],i=e&&e[t]||t;return"on"+Wt(o)+Wt(i)+(Fe(n,i)?"Capture":"")}const He=["gotpointercapture","lostpointercapture"];function Be(o){let t=o.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const e=He.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(e);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function We(o,t=""){const n=ne[o],e=n&&n[t]||t;return o+e}function ft(o){return"touches"in o}function oe(o){return ft(o)?"touch":"pointerType"in o?o.pointerType:"mouse"}function Xe(o){return Array.from(o.touches).filter(t=>{var n,e;return t.target===o.currentTarget||((n=o.currentTarget)===null||n===void 0||(e=n.contains)===null||e===void 0?void 0:e.call(n,t.target))})}function Ze(o){return o.type==="touchend"||o.type==="touchcancel"?o.changedTouches:o.targetTouches}function se(o){return ft(o)?Ze(o)[0]:o}function Ge(o){return Xe(o).map(t=>t.identifier)}function _t(o){const t=se(o);return ft(o)?t.identifier:t.pointerId}function Xt(o){const t=se(o);return[t.clientX,t.clientY]}function qe(o){const t={};if("buttons"in o&&(t.buttons=o.buttons),"shiftKey"in o){const{shiftKey:n,altKey:e,metaKey:i,ctrlKey:u}=o;Object.assign(t,{shiftKey:n,altKey:e,metaKey:i,ctrlKey:u})}return t}function ut(o,...t){return typeof o=="function"?o(...t):o}function $e(){}function Qe(...o){return o.length===0?$e:o.length===1?o[0]:function(){let t;for(const n of o)t=n.apply(this,arguments)||t;return t}}function Zt(o,t){return Object.assign({},t,o||{})}const Je=32;class tn{constructor(t,n,e){this.ctrl=t,this.args=n,this.key=e,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:e,args:i}=this;n[e]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,e=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=e.from?ut(e.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:e,shared:i}=this;n.args=this.args;let u=0;if(t&&(n.event=t,e.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,qe(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,u=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const b=n._delta.map(Math.abs);I.addTo(n._distance,b)}this.axisIntent&&this.axisIntent(t);const[f,r]=n._movement,[c,p]=e.threshold,{_step:l,values:m}=n;if(e.hasCustomTransform?(l[0]===!1&&(l[0]=Math.abs(f)>=c&&m[0]),l[1]===!1&&(l[1]=Math.abs(r)>=p&&m[1])):(l[0]===!1&&(l[0]=Math.abs(f)>=c&&Math.sign(f)*c),l[1]===!1&&(l[1]=Math.abs(r)>=p&&Math.sign(r)*p)),n.intentional=l[0]!==!1||l[1]!==!1,!n.intentional)return;const g=[0,0];if(e.hasCustomTransform){const[b,H]=m;g[0]=l[0]!==!1?b-l[0]:0,g[1]=l[1]!==!1?H-l[1]:0}else g[0]=l[0]!==!1?f-l[0]:0,g[1]=l[1]!==!1?r-l[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(g);const w=n.offset,E=n._active&&!n._blocked||n.active;E&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in e&&(n._bounds=ut(e.bounds,n)),this.setup&&this.setup()),n.movement=g,this.computeOffset()));const[S,O]=n.offset,[[k,x],[A,P]]=n._bounds;n.overflow=[S<k?-1:S>x?1:0,O<A?-1:O>P?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const y=n._active?e.rubberband||[0,0]:[0,0];if(n.offset=Ue(n._bounds,n.offset,y),n.delta=I.sub(n.offset,w),this.computeMovement(),E&&(!n.last||u>Je)){n.delta=I.sub(n.offset,w);const b=n.delta.map(Math.abs);I.addTo(n.distance,b),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&u>0&&(n.velocity=[b[0]/u,b[1]/u],n.timeDelta=u)}}emit(){const t=this.state,n=this.shared,e=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!e.triggerAllEvents)return;const i=this.handler(T(T(T({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function en([o,t],n){const e=Math.abs(o),i=Math.abs(t);if(e>i&&e>n)return"x";if(i>e&&i>n)return"y"}class nn extends tn{constructor(...t){super(...t),L(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=I.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=I.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,e=this.config;if(!n.axis&&t){const i=typeof e.axisThreshold=="object"?e.axisThreshold[oe(t)]:e.axisThreshold;n.axis=en(n._movement,i)}n._blocked=(e.lockDirection||!!e.axis)&&!n.axis||!!e.axis&&e.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const on=o=>o,Gt=.15,ie={enabled(o=!0){return o},eventOptions(o,t,n){return T(T({},n.shared.eventOptions),o)},preventDefault(o=!1){return o},triggerAllEvents(o=!1){return o},rubberband(o=0){switch(o){case!0:return[Gt,Gt];case!1:return[0,0];default:return I.toVector(o)}},from(o){if(typeof o=="function")return o;if(o!=null)return I.toVector(o)},transform(o,t,n){const e=o||n.shared.transform;return this.hasCustomTransform=!!e,e||on},threshold(o){return I.toVector(o,0)}},sn=0,tt=T(T({},ie),{},{axis(o,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(o=sn){return o},bounds(o={}){if(typeof o=="function")return u=>tt.bounds(o(u));if("current"in o)return()=>o.current;if(typeof HTMLElement=="function"&&o instanceof HTMLElement)return o;const{left:t=-1/0,right:n=1/0,top:e=-1/0,bottom:i=1/0}=o;return[[t,n],[e,i]]}}),qt={ArrowRight:(o,t=1)=>[o*t,0],ArrowLeft:(o,t=1)=>[-1*o*t,0],ArrowUp:(o,t=1)=>[0,-1*o*t],ArrowDown:(o,t=1)=>[0,o*t]};class rn extends nn{constructor(...t){super(...t),L(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),e=t.currentTarget.getBoundingClientRect(),i={left:n.left-e.left+t.offset[0],right:n.right-e.right+t.offset[0],top:n.top-e.top+t.offset[1],bottom:n.bottom-e.bottom+t.offset[1]};t._bounds=tt.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,e=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&e._pointerActive)&&(this.start(t),this.setupPointer(t),e._pointerId=_t(t),e._pointerActive=!0,this.computeValues(Xt(t)),this.computeInitial(),n.preventScrollAxis&&oe(t)!=="mouse"?(e._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,e=this.config;if(!n._pointerActive)return;const i=_t(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const u=Xt(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=I.sub(u,n._values),this.computeValues(u)),I.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(e.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===e.preventScrollAxis||e.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,e=this.config;if(!n._active||!n._pointerActive)return;const i=_t(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[u,f]=n._distance;if(n.tap=u<=e.tapsThreshold&&f<=e.tapsThreshold,n.tap&&e.filterTaps)n._force=!0;else{const[r,c]=n._delta,[p,l]=n._movement,[m,g]=e.swipe.velocity,[w,E]=e.swipe.distance,S=e.swipe.duration;if(n.elapsedTime<S){const O=Math.abs(r/n.timeDelta),k=Math.abs(c/n.timeDelta);O>m&&Math.abs(p)>w&&(n.swipe[0]=Math.sign(r)),k>g&&Math.abs(l)>E&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,e=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,e,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,e,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,e,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,an(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=qt[t.key];if(n){const e=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),e._delta=n(this.config.keyboardDisplacement,i),e._keyboardActive=!0,I.addTo(e._movement,e._delta),this.compute(t),this.emit()}}keyUp(t){t.key in qt&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function an(o){"persist"in o&&typeof o.persist=="function"&&o.persist()}const et=typeof window<"u"&&window.document&&window.document.createElement;function re(){return et&&"ontouchstart"in window}function cn(){return re()||et&&window.navigator.maxTouchPoints>1}function ln(){return et&&"onpointerdown"in window}function un(){return et&&"exitPointerLock"in window.document}function fn(){try{return"constructor"in GestureEvent}catch{return!1}}const j={isBrowser:et,gesture:fn(),touch:re(),touchscreen:cn(),pointer:ln(),pointerLock:un()},hn=250,dn=180,pn=.5,mn=50,gn=250,bn=10,$t={mouse:0,touch:0,pen:8},yn=T(T({},tt),{},{device(o,t,{pointer:{touch:n=!1,lock:e=!1,mouse:i=!1}={}}){return this.pointerLock=e&&j.pointerLock,j.touch&&n?"touch":this.pointerLock?"mouse":j.pointer&&!i?"pointer":j.touch?"touch":"mouse"},preventScrollAxis(o,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&o?hn:void 0,!(!j.touchscreen||n===!1))return o||(n!==void 0?"y":void 0)},pointerCapture(o,t,{pointer:{capture:n=!0,buttons:e=1,keys:i=!0}={}}){return this.pointerButtons=e,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(o,t,{filterTaps:n=!1,tapsThreshold:e=3,axis:i=void 0}){const u=I.toVector(o,n?e:i?1:0);return this.filterTaps=n,this.tapsThreshold=e,u},swipe({velocity:o=pn,distance:t=mn,duration:n=gn}={}){return{velocity:this.transform(I.toVector(o)),distance:this.transform(I.toVector(t)),duration:n}},delay(o=0){switch(o){case!0:return dn;case!1:return 0;default:return o}},axisThreshold(o){return o?T(T({},$t),o):$t},keyboardDisplacement(o=bn){return o}});T(T({},ie),{},{device(o,t,{shared:n,pointer:{touch:e=!1}={}}){if(n.target&&!j.touch&&j.gesture)return"gesture";if(j.touch&&e)return"touch";if(j.touchscreen){if(j.pointer)return"pointer";if(j.touch)return"touch"}},bounds(o,t,{scaleBounds:n={},angleBounds:e={}}){const i=f=>{const r=Zt(ut(n,f),{min:-1/0,max:1/0});return[r.min,r.max]},u=f=>{const r=Zt(ut(e,f),{min:-1/0,max:1/0});return[r.min,r.max]};return typeof n!="function"&&typeof e!="function"?[i(),u()]:f=>[i(f),u(f)]},threshold(o,t,n){return this.lockDirection=n.axis==="lock",I.toVector(o,this.lockDirection?[.1,3]:0)},modifierKey(o){return o===void 0?"ctrlKey":o},pinchOnWheel(o=!0){return o}});T(T({},tt),{},{mouseOnly:(o=!0)=>o});T(T({},tt),{},{mouseOnly:(o=!0)=>o});const ae=new Map,Et=new Map;function vn(o){ae.set(o.key,o.engine),Et.set(o.key,o.resolver)}const _n={key:"drag",engine:rn,resolver:yn};function En(o,t){if(o==null)return{};var n={},e=Object.keys(o),i,u;for(u=0;u<e.length;u++)i=e[u],!(t.indexOf(i)>=0)&&(n[i]=o[i]);return n}function wn(o,t){if(o==null)return{};var n=En(o,t),e,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(i=0;i<u.length;i++)e=u[i],!(t.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(o,e)&&(n[e]=o[e])}return n}const Tn={target(o){if(o)return()=>"current"in o?o.current:o},enabled(o=!0){return o},window(o=j.isBrowser?window:void 0){return o},eventOptions({passive:o=!0,capture:t=!1}={}){return{passive:o,capture:t}},transform(o){return o}},Pn=["target","eventOptions","window","enabled","transform"];function ct(o={},t){const n={};for(const[e,i]of Object.entries(t))switch(typeof i){case"function":n[e]=i.call(n,o[e],e,o);break;case"object":n[e]=ct(o[e],i);break;case"boolean":i&&(n[e]=o[e]);break}return n}function On(o,t,n={}){const e=o,{target:i,eventOptions:u,window:f,enabled:r,transform:c}=e,p=wn(e,Pn);if(n.shared=ct({target:i,eventOptions:u,window:f,enabled:r,transform:c},Tn),t){const l=Et.get(t);n[t]=ct(T({shared:n.shared},p),l)}else for(const l in p){const m=Et.get(l);m&&(n[l]=ct(T({shared:n.shared},p[l]),m))}return n}class ce{constructor(t,n){L(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,e,i,u){const f=this._listeners,r=We(n,e),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},p=T(T({},c),u);t.addEventListener(r,i,p);const l=()=>{t.removeEventListener(r,i,p),f.delete(l)};return f.add(l),l}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Sn{constructor(){L(this,"_timeouts",new Map)}add(t,n,e=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,e,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class An{constructor(t){L(this,"gestures",new Set),L(this,"_targetEventStore",new ce(this)),L(this,"gestureEventStores",{}),L(this,"gestureTimeoutStores",{}),L(this,"handlers",{}),L(this,"config",{}),L(this,"pointerIds",new Set),L(this,"touchIds",new Set),L(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Dn(this,t)}setEventIds(t){if(ft(t))return this.touchIds=new Set(Ge(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=On(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,e={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const f of this.gestures){const r=this.config[f],c=Qt(e,r.eventOptions,!!i);if(r.enabled){const p=ae.get(f);new p(this,t,f).bind(c)}}const u=Qt(e,n.eventOptions,!!i);for(const f in this.nativeHandlers)u(f,"",r=>this.nativeHandlers[f](T(T({},this.state.shared),{},{event:r,args:t})),void 0,!0)}for(const u in e)e[u]=Qe(...e[u]);if(!i)return e;for(const u in e){const{device:f,capture:r,passive:c}=Be(u);this._targetEventStore.add(i,f,"",e[u],{capture:r,passive:c})}}}}function Z(o,t){o.gestures.add(t),o.gestureEventStores[t]=new ce(o,t),o.gestureTimeoutStores[t]=new Sn}function Dn(o,t){t.drag&&Z(o,"drag"),t.wheel&&Z(o,"wheel"),t.scroll&&Z(o,"scroll"),t.move&&Z(o,"move"),t.pinch&&Z(o,"pinch"),t.hover&&Z(o,"hover")}const Qt=(o,t,n)=>(e,i,u,f={},r=!1)=>{var c,p;const l=(c=f.capture)!==null&&c!==void 0?c:t.capture,m=(p=f.passive)!==null&&p!==void 0?p:t.passive;let g=r?e:Ve(e,i,l);n&&m&&(g+="Passive"),o[g]=o[g]||[],o[g].push(u)};function Mn(o,t={},n,e){const i=yt.useMemo(()=>new An(o),[]);if(i.applyHandlers(o,e),i.applyConfig(t,n),yt.useEffect(i.effect.bind(i)),yt.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function Zn(o,t){return vn(_n),Mn({drag:o},t||{},"drag")}const Gn=o=>(t,n,e)=>{const i=e.subscribe;return e.subscribe=(f,r,c)=>{let p=f;if(r){const l=(c==null?void 0:c.equalityFn)||Object.is;let m=f(e.getState());p=g=>{const w=f(g);if(!l(m,w)){const E=m;r(m=w,E)}},c!=null&&c.fireImmediately&&r(m,m)}return i(p)},o(t,n,e)};let J;function qn(){var o;if(J!==void 0)return J;try{let t;const n=document.createElement("canvas");return J=!!(window.WebGL2RenderingContext&&(t=n.getContext("webgl2"))),t&&((o=t.getExtension("WEBGL_lose_context"))==null||o.loseContext()),J}catch{return J=!1}}var kn=Object.defineProperty,xn=(o,t,n)=>t in o?kn(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,h=(o,t,n)=>(xn(o,typeof t!="symbol"?t+"":t,n),n);const at=new xe,Jt=new Ie,In=Math.cos(70*(Math.PI/180)),te=(o,t)=>(o%t+t)%t;let Ln=class extends Le{constructor(t,n){super(),h(this,"object"),h(this,"domElement"),h(this,"enabled",!0),h(this,"target",new C),h(this,"minDistance",0),h(this,"maxDistance",1/0),h(this,"minZoom",0),h(this,"maxZoom",1/0),h(this,"minPolarAngle",0),h(this,"maxPolarAngle",Math.PI),h(this,"minAzimuthAngle",-1/0),h(this,"maxAzimuthAngle",1/0),h(this,"enableDamping",!1),h(this,"dampingFactor",.05),h(this,"enableZoom",!0),h(this,"zoomSpeed",1),h(this,"enableRotate",!0),h(this,"rotateSpeed",1),h(this,"enablePan",!0),h(this,"panSpeed",1),h(this,"screenSpacePanning",!0),h(this,"keyPanSpeed",7),h(this,"zoomToCursor",!1),h(this,"autoRotate",!1),h(this,"autoRotateSpeed",2),h(this,"reverseOrbit",!1),h(this,"reverseHorizontalOrbit",!1),h(this,"reverseVerticalOrbit",!1),h(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),h(this,"mouseButtons",{LEFT:W.ROTATE,MIDDLE:W.DOLLY,RIGHT:W.PAN}),h(this,"touches",{ONE:X.ROTATE,TWO:X.DOLLY_PAN}),h(this,"target0"),h(this,"position0"),h(this,"zoom0"),h(this,"_domElementKeyEvents",null),h(this,"getPolarAngle"),h(this,"getAzimuthalAngle"),h(this,"setPolarAngle"),h(this,"setAzimuthalAngle"),h(this,"getDistance"),h(this,"listenToKeyEvents"),h(this,"stopListenToKeyEvents"),h(this,"saveState"),h(this,"reset"),h(this,"update"),h(this,"connect"),h(this,"dispose"),this.object=t,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>l.phi,this.getAzimuthalAngle=()=>l.theta,this.setPolarAngle=s=>{let a=te(s,2*Math.PI),d=l.phi;d<0&&(d+=2*Math.PI),a<0&&(a+=2*Math.PI);let v=Math.abs(a-d);2*Math.PI-v<v&&(a<d?a+=2*Math.PI:d+=2*Math.PI),m.phi=a-d,e.update()},this.setAzimuthalAngle=s=>{let a=te(s,2*Math.PI),d=l.theta;d<0&&(d+=2*Math.PI),a<0&&(a+=2*Math.PI);let v=Math.abs(a-d);2*Math.PI-v<v&&(a<d?a+=2*Math.PI:d+=2*Math.PI),m.theta=a-d,e.update()},this.getDistance=()=>e.object.position.distanceTo(e.target),this.listenToKeyEvents=s=>{s.addEventListener("keydown",gt),this._domElementKeyEvents=s},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",gt),this._domElementKeyEvents=null},this.saveState=()=>{e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=()=>{e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(i),e.update(),c=r.NONE},this.update=(()=>{const s=new C,a=new C(0,1,0),d=new Kt().setFromUnitVectors(t.up,a),v=d.clone().invert(),D=new C,Y=new Kt,F=2*Math.PI;return function(){const Yt=e.object.position;d.setFromUnitVectors(t.up,a),v.copy(d).invert(),s.copy(Yt).sub(e.target),s.applyQuaternion(d),l.setFromVector3(s),e.autoRotate&&c===r.NONE&&ht(he()),e.enableDamping?(l.theta+=m.theta*e.dampingFactor,l.phi+=m.phi*e.dampingFactor):(l.theta+=m.theta,l.phi+=m.phi);let K=e.minAzimuthAngle,z=e.maxAzimuthAngle;isFinite(K)&&isFinite(z)&&(K<-Math.PI?K+=F:K>Math.PI&&(K-=F),z<-Math.PI?z+=F:z>Math.PI&&(z-=F),K<=z?l.theta=Math.max(K,Math.min(z,l.theta)):l.theta=l.theta>(K+z)/2?Math.max(K,l.theta):Math.min(z,l.theta)),l.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,l.phi)),l.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(w,e.dampingFactor):e.target.add(w),e.zoomToCursor&&U||e.object.isOrthographicCamera?l.radius=pt(l.radius):l.radius=pt(l.radius*g),s.setFromSpherical(l),s.applyQuaternion(v),Yt.copy(e.target).add(s),e.object.matrixAutoUpdate||e.object.updateMatrix(),e.object.lookAt(e.target),e.enableDamping===!0?(m.theta*=1-e.dampingFactor,m.phi*=1-e.dampingFactor,w.multiplyScalar(1-e.dampingFactor)):(m.set(0,0,0),w.set(0,0,0));let q=!1;if(e.zoomToCursor&&U){let $=null;if(e.object instanceof it&&e.object.isPerspectiveCamera){const Q=s.length();$=pt(Q*g);const st=Q-$;e.object.position.addScaledVector(H,st),e.object.updateMatrixWorld()}else if(e.object.isOrthographicCamera){const Q=new C(R.x,R.y,0);Q.unproject(e.object),e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/g)),e.object.updateProjectionMatrix(),q=!0;const st=new C(R.x,R.y,0);st.unproject(e.object),e.object.position.sub(st).add(Q),e.object.updateMatrixWorld(),$=s.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;$!==null&&(e.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar($).add(e.object.position):(at.origin.copy(e.object.position),at.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(at.direction))<In?t.lookAt(e.target):(Jt.setFromNormalAndCoplanarPoint(e.object.up,e.target),at.intersectPlane(Jt,e.target))))}else e.object instanceof rt&&e.object.isOrthographicCamera&&(q=g!==1,q&&(e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/g)),e.object.updateProjectionMatrix()));return g=1,U=!1,q||D.distanceToSquared(e.object.position)>p||8*(1-Y.dot(e.object.quaternion))>p?(e.dispatchEvent(i),D.copy(e.object.position),Y.copy(e.object.quaternion),q=!1,!0):!1}})(),this.connect=s=>{e.domElement=s,e.domElement.style.touchAction="none",e.domElement.addEventListener("contextmenu",Nt),e.domElement.addEventListener("pointerdown",jt),e.domElement.addEventListener("pointercancel",G),e.domElement.addEventListener("wheel",Rt)},this.dispose=()=>{var s,a,d,v,D,Y;e.domElement&&(e.domElement.style.touchAction="auto"),(s=e.domElement)==null||s.removeEventListener("contextmenu",Nt),(a=e.domElement)==null||a.removeEventListener("pointerdown",jt),(d=e.domElement)==null||d.removeEventListener("pointercancel",G),(v=e.domElement)==null||v.removeEventListener("wheel",Rt),(D=e.domElement)==null||D.ownerDocument.removeEventListener("pointermove",mt),(Y=e.domElement)==null||Y.ownerDocument.removeEventListener("pointerup",G),e._domElementKeyEvents!==null&&e._domElementKeyEvents.removeEventListener("keydown",gt)};const e=this,i={type:"change"},u={type:"start"},f={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=r.NONE;const p=1e-6,l=new zt,m=new zt;let g=1;const w=new C,E=new N,S=new N,O=new N,k=new N,x=new N,A=new N,P=new N,y=new N,b=new N,H=new C,R=new N;let U=!1;const _=[],nt={};function he(){return 2*Math.PI/60/60*e.autoRotateSpeed}function ot(){return Math.pow(.95,e.zoomSpeed)}function ht(s){e.reverseOrbit||e.reverseHorizontalOrbit?m.theta+=s:m.theta-=s}function wt(s){e.reverseOrbit||e.reverseVerticalOrbit?m.phi+=s:m.phi-=s}const Tt=(()=>{const s=new C;return function(d,v){s.setFromMatrixColumn(v,0),s.multiplyScalar(-d),w.add(s)}})(),Pt=(()=>{const s=new C;return function(d,v){e.screenSpacePanning===!0?s.setFromMatrixColumn(v,1):(s.setFromMatrixColumn(v,0),s.crossVectors(e.object.up,s)),s.multiplyScalar(d),w.add(s)}})(),B=(()=>{const s=new C;return function(d,v){const D=e.domElement;if(D&&e.object instanceof it&&e.object.isPerspectiveCamera){const Y=e.object.position;s.copy(Y).sub(e.target);let F=s.length();F*=Math.tan(e.object.fov/2*Math.PI/180),Tt(2*d*F/D.clientHeight,e.object.matrix),Pt(2*v*F/D.clientHeight,e.object.matrix)}else D&&e.object instanceof rt&&e.object.isOrthographicCamera?(Tt(d*(e.object.right-e.object.left)/e.object.zoom/D.clientWidth,e.object.matrix),Pt(v*(e.object.top-e.object.bottom)/e.object.zoom/D.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}})();function dt(s){e.object instanceof it&&e.object.isPerspectiveCamera||e.object instanceof rt&&e.object.isOrthographicCamera?g/=s:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function Ot(s){e.object instanceof it&&e.object.isPerspectiveCamera||e.object instanceof rt&&e.object.isOrthographicCamera?g*=s:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function St(s){if(!e.zoomToCursor||!e.domElement)return;U=!0;const a=e.domElement.getBoundingClientRect(),d=s.clientX-a.left,v=s.clientY-a.top,D=a.width,Y=a.height;R.x=d/D*2-1,R.y=-(v/Y)*2+1,H.set(R.x,R.y,1).unproject(e.object).sub(e.object.position).normalize()}function pt(s){return Math.max(e.minDistance,Math.min(e.maxDistance,s))}function At(s){E.set(s.clientX,s.clientY)}function de(s){St(s),P.set(s.clientX,s.clientY)}function Dt(s){k.set(s.clientX,s.clientY)}function pe(s){S.set(s.clientX,s.clientY),O.subVectors(S,E).multiplyScalar(e.rotateSpeed);const a=e.domElement;a&&(ht(2*Math.PI*O.x/a.clientHeight),wt(2*Math.PI*O.y/a.clientHeight)),E.copy(S),e.update()}function me(s){y.set(s.clientX,s.clientY),b.subVectors(y,P),b.y>0?dt(ot()):b.y<0&&Ot(ot()),P.copy(y),e.update()}function ge(s){x.set(s.clientX,s.clientY),A.subVectors(x,k).multiplyScalar(e.panSpeed),B(A.x,A.y),k.copy(x),e.update()}function be(s){St(s),s.deltaY<0?Ot(ot()):s.deltaY>0&&dt(ot()),e.update()}function ye(s){let a=!1;switch(s.code){case e.keys.UP:B(0,e.keyPanSpeed),a=!0;break;case e.keys.BOTTOM:B(0,-e.keyPanSpeed),a=!0;break;case e.keys.LEFT:B(e.keyPanSpeed,0),a=!0;break;case e.keys.RIGHT:B(-e.keyPanSpeed,0),a=!0;break}a&&(s.preventDefault(),e.update())}function Mt(){if(_.length==1)E.set(_[0].pageX,_[0].pageY);else{const s=.5*(_[0].pageX+_[1].pageX),a=.5*(_[0].pageY+_[1].pageY);E.set(s,a)}}function kt(){if(_.length==1)k.set(_[0].pageX,_[0].pageY);else{const s=.5*(_[0].pageX+_[1].pageX),a=.5*(_[0].pageY+_[1].pageY);k.set(s,a)}}function xt(){const s=_[0].pageX-_[1].pageX,a=_[0].pageY-_[1].pageY,d=Math.sqrt(s*s+a*a);P.set(0,d)}function ve(){e.enableZoom&&xt(),e.enablePan&&kt()}function _e(){e.enableZoom&&xt(),e.enableRotate&&Mt()}function It(s){if(_.length==1)S.set(s.pageX,s.pageY);else{const d=bt(s),v=.5*(s.pageX+d.x),D=.5*(s.pageY+d.y);S.set(v,D)}O.subVectors(S,E).multiplyScalar(e.rotateSpeed);const a=e.domElement;a&&(ht(2*Math.PI*O.x/a.clientHeight),wt(2*Math.PI*O.y/a.clientHeight)),E.copy(S)}function Lt(s){if(_.length==1)x.set(s.pageX,s.pageY);else{const a=bt(s),d=.5*(s.pageX+a.x),v=.5*(s.pageY+a.y);x.set(d,v)}A.subVectors(x,k).multiplyScalar(e.panSpeed),B(A.x,A.y),k.copy(x)}function Ct(s){const a=bt(s),d=s.pageX-a.x,v=s.pageY-a.y,D=Math.sqrt(d*d+v*v);y.set(0,D),b.set(0,Math.pow(y.y/P.y,e.zoomSpeed)),dt(b.y),P.copy(y)}function Ee(s){e.enableZoom&&Ct(s),e.enablePan&&Lt(s)}function we(s){e.enableZoom&&Ct(s),e.enableRotate&&It(s)}function jt(s){var a,d;e.enabled!==!1&&(_.length===0&&((a=e.domElement)==null||a.ownerDocument.addEventListener("pointermove",mt),(d=e.domElement)==null||d.ownerDocument.addEventListener("pointerup",G)),Ae(s),s.pointerType==="touch"?Oe(s):Te(s))}function mt(s){e.enabled!==!1&&(s.pointerType==="touch"?Se(s):Pe(s))}function G(s){var a,d,v;De(s),_.length===0&&((a=e.domElement)==null||a.releasePointerCapture(s.pointerId),(d=e.domElement)==null||d.ownerDocument.removeEventListener("pointermove",mt),(v=e.domElement)==null||v.ownerDocument.removeEventListener("pointerup",G)),e.dispatchEvent(f),c=r.NONE}function Te(s){let a;switch(s.button){case 0:a=e.mouseButtons.LEFT;break;case 1:a=e.mouseButtons.MIDDLE;break;case 2:a=e.mouseButtons.RIGHT;break;default:a=-1}switch(a){case W.DOLLY:if(e.enableZoom===!1)return;de(s),c=r.DOLLY;break;case W.ROTATE:if(s.ctrlKey||s.metaKey||s.shiftKey){if(e.enablePan===!1)return;Dt(s),c=r.PAN}else{if(e.enableRotate===!1)return;At(s),c=r.ROTATE}break;case W.PAN:if(s.ctrlKey||s.metaKey||s.shiftKey){if(e.enableRotate===!1)return;At(s),c=r.ROTATE}else{if(e.enablePan===!1)return;Dt(s),c=r.PAN}break;default:c=r.NONE}c!==r.NONE&&e.dispatchEvent(u)}function Pe(s){if(e.enabled!==!1)switch(c){case r.ROTATE:if(e.enableRotate===!1)return;pe(s);break;case r.DOLLY:if(e.enableZoom===!1)return;me(s);break;case r.PAN:if(e.enablePan===!1)return;ge(s);break}}function Rt(s){e.enabled===!1||e.enableZoom===!1||c!==r.NONE&&c!==r.ROTATE||(s.preventDefault(),e.dispatchEvent(u),be(s),e.dispatchEvent(f))}function gt(s){e.enabled===!1||e.enablePan===!1||ye(s)}function Oe(s){switch(Ut(s),_.length){case 1:switch(e.touches.ONE){case X.ROTATE:if(e.enableRotate===!1)return;Mt(),c=r.TOUCH_ROTATE;break;case X.PAN:if(e.enablePan===!1)return;kt(),c=r.TOUCH_PAN;break;default:c=r.NONE}break;case 2:switch(e.touches.TWO){case X.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;ve(),c=r.TOUCH_DOLLY_PAN;break;case X.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;_e(),c=r.TOUCH_DOLLY_ROTATE;break;default:c=r.NONE}break;default:c=r.NONE}c!==r.NONE&&e.dispatchEvent(u)}function Se(s){switch(Ut(s),c){case r.TOUCH_ROTATE:if(e.enableRotate===!1)return;It(s),e.update();break;case r.TOUCH_PAN:if(e.enablePan===!1)return;Lt(s),e.update();break;case r.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ee(s),e.update();break;case r.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;we(s),e.update();break;default:c=r.NONE}}function Nt(s){e.enabled!==!1&&s.preventDefault()}function Ae(s){_.push(s)}function De(s){delete nt[s.pointerId];for(let a=0;a<_.length;a++)if(_[a].pointerId==s.pointerId){_.splice(a,1);return}}function Ut(s){let a=nt[s.pointerId];a===void 0&&(a=new N,nt[s.pointerId]=a),a.set(s.pageX,s.pageY)}function bt(s){const a=s.pointerId===_[0].pointerId?_[1]:_[0];return nt[a.pointerId]}n!==void 0&&this.connect(n),this.update()}};function Qn(o,t){if(Object.is(o,t))return!0;if(typeof o!="object"||o===null||typeof t!="object"||t===null)return!1;const n=Object.keys(o);if(n.length!==Object.keys(t).length)return!1;for(let e=0;e<n.length;e++)if(!Object.prototype.hasOwnProperty.call(t,n[e])||!Object.is(o[n[e]],t[n[e]]))return!1;return!0}const Cn=()=>parseInt(Ce.replace(/\D+/g,"")),jn=Cn(),Jn=M.forwardRef(({makeDefault:o,camera:t,regress:n,domElement:e,enableDamping:i=!0,keyEvents:u=!1,onChange:f,onStart:r,onEnd:c,...p},l)=>{const m=V(b=>b.invalidate),g=V(b=>b.camera),w=V(b=>b.gl),E=V(b=>b.events),S=V(b=>b.setEvents),O=V(b=>b.set),k=V(b=>b.get),x=V(b=>b.performance),A=t||g,P=e||E.connected||w.domElement,y=M.useMemo(()=>new Ln(A),[A]);return je(()=>{y.enabled&&y.update()},-1),M.useEffect(()=>(u&&y.connect(u===!0?P:u),y.connect(P),()=>void y.dispose()),[u,P,n,y,m]),M.useEffect(()=>{const b=U=>{m(),n&&x.regress(),f&&f(U)},H=U=>{r&&r(U)},R=U=>{c&&c(U)};return y.addEventListener("change",b),y.addEventListener("start",H),y.addEventListener("end",R),()=>{y.removeEventListener("start",H),y.removeEventListener("end",R),y.removeEventListener("change",b)}},[f,r,c,y,m,S]),M.useEffect(()=>{if(o){const b=k().controls;return O({controls:y}),()=>O({controls:b})}},[o,y]),M.createElement("primitive",lt({ref:l,object:y,enableDamping:i},p))}),Rn="modulepreload",Nn=function(o,t){return new URL(o,t).href},ee={},to=function(t,n,e){let i=Promise.resolve();if(n&&n.length>0){const u=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),r=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));i=Promise.all(n.map(c=>{if(c=Nn(c,e),c in ee)return;ee[c]=!0;const p=c.endsWith(".css"),l=p?'[rel="stylesheet"]':"";if(!!e)for(let w=u.length-1;w>=0;w--){const E=u[w];if(E.href===c&&(!p||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${l}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":Rn,p||(g.as="script"),g.crossOrigin="",g.href=c,r&&g.setAttribute("nonce",r),document.head.appendChild(g),p)return new Promise((w,E)=>{g.addEventListener("load",w),g.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>t()).catch(u=>{const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u})};var le={exports:{}},Un="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Yn=Un,Kn=Yn;function ue(){}function fe(){}fe.resetWarningCache=ue;var zn=function(){function o(e,i,u,f,r,c){if(c!==Kn){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}o.isRequired=o;function t(){return o}var n={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:t,element:o,elementType:o,instanceOf:t,node:o,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fe,resetWarningCache:ue};return n.PropTypes=n,n};le.exports=zn();var Fn=le.exports;const eo=ke(Fn),Vn=M.createContext(null),no=M.forwardRef(({castShadow:o=!0,bias:t=.001,mapSize:n=512,size:e=5,near:i=.5,far:u=500,frames:f=1,position:r=[0,0,0],radius:c=1,amount:p=8,intensity:l=jn>=155?Math.PI:1,ambient:m=.5,...g},w)=>{const E=M.useRef(null),S=new C(...r).length(),O=M.useContext(Vn),k=M.useCallback(()=>{let A;if(E.current)for(let P=0;P<E.current.children.length;P++)if(A=E.current.children[P],Math.random()>m)A.position.set(r[0]+vt.randFloatSpread(c),r[1]+vt.randFloatSpread(c),r[2]+vt.randFloatSpread(c));else{let y=Math.acos(2*Math.random()-1)-Math.PI/2,b=2*Math.PI*Math.random();A.position.set(Math.cos(y)*Math.cos(b)*S,Math.abs(Math.cos(y)*Math.sin(b)*S),Math.sin(y)*S)}},[c,m,S,...r]),x=M.useMemo(()=>({update:k}),[k]);return M.useImperativeHandle(w,()=>x,[x]),M.useLayoutEffect(()=>{var A;const P=E.current;return O&&((A=O.lights)==null||A.set(P.uuid,x)),()=>{var y;return void(O==null||(y=O.lights)==null?void 0:y.delete(P.uuid))}},[O,x]),M.createElement("group",lt({ref:E},g),Array.from({length:p},(A,P)=>M.createElement("directionalLight",{key:P,castShadow:o,"shadow-bias":t,"shadow-mapSize":[n,n],intensity:l/p},M.createElement("orthographicCamera",{attach:"shadow-camera",args:[-e,e,e,-e,i,u]}))))});export{Jn as O,eo as P,no as R,to as _,Gn as a,Re as c,qn as i,Qn as s,Zn as u};
