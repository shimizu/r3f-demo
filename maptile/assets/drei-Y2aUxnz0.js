import{a as De,R as bt,r as M,g as Ae}from"./react-4ldeB94U.js";import{j as Me,k as Ie,E as ke,V as C,l as W,m as X,Q as Yt,P as st,O as it,n as Kt,c as N,o as xe,p as yt}from"./three-CAajw9xd.js";import{u as V,a as Le}from"./fiber-D0DMjeRr.js";var Ce,zt=De;Ce=zt.createRoot,zt.hydrateRoot;function ct(){return ct=Object.assign?Object.assign.bind():function(o){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)({}).hasOwnProperty.call(n,t)&&(o[t]=n[t])}return o},ct.apply(null,arguments)}function je(o,e,n){return Math.max(e,Math.min(o,n))}const x={toVector(o,e){return o===void 0&&(o=e),Array.isArray(o)?o:[o,o]},add(o,e){return[o[0]+e[0],o[1]+e[1]]},sub(o,e){return[o[0]-e[0],o[1]-e[1]]},addTo(o,e){o[0]+=e[0],o[1]+=e[1]},subTo(o,e){o[0]-=e[0],o[1]-=e[1]}};function Ft(o,e,n){return e===0||Math.abs(e)===1/0?Math.pow(o,n*5):o*e*n/(e+n*o)}function Vt(o,e,n,t=.15){return t===0?je(o,e,n):o<e?-Ft(e-o,n-e,t)+e:o>n?+Ft(o-n,n-e,t)+n:o}function Re(o,[e,n],[t,i]){const[[u,p],[a,l]]=o;return[Vt(e,u,p,t),Vt(n,a,l,i)]}function Ne(o,e){if(typeof o!="object"||o===null)return o;var n=o[Symbol.toPrimitive];if(n!==void 0){var t=n.call(o,e||"default");if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}function Ue(o){var e=Ne(o,"string");return typeof e=="symbol"?e:String(e)}function L(o,e,n){return e=Ue(e),e in o?Object.defineProperty(o,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[e]=n,o}function Ht(o,e){var n=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);e&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable})),n.push.apply(n,t)}return n}function E(o){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ht(Object(n),!0).forEach(function(t){L(o,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(n,t))})}return o}const te={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Bt(o){return o?o[0].toUpperCase()+o.slice(1):""}const Ye=["enter","leave"];function Ke(o=!1,e){return o&&!Ye.includes(e)}function ze(o,e="",n=!1){const t=te[o],i=t&&t[e]||e;return"on"+Bt(o)+Bt(i)+(Ke(n,i)?"Capture":"")}const Fe=["gotpointercapture","lostpointercapture"];function Ve(o){let e=o.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const t=Fe.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(t);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function He(o,e=""){const n=te[o],t=n&&n[e]||e;return o+t}function ut(o){return"touches"in o}function ee(o){return ut(o)?"touch":"pointerType"in o?o.pointerType:"mouse"}function Be(o){return Array.from(o.touches).filter(e=>{var n,t;return e.target===o.currentTarget||((n=o.currentTarget)===null||n===void 0||(t=n.contains)===null||t===void 0?void 0:t.call(n,e.target))})}function We(o){return o.type==="touchend"||o.type==="touchcancel"?o.changedTouches:o.targetTouches}function ne(o){return ut(o)?We(o)[0]:o}function Xe(o){return Be(o).map(e=>e.identifier)}function vt(o){const e=ne(o);return ut(o)?e.identifier:e.pointerId}function Wt(o){const e=ne(o);return[e.clientX,e.clientY]}function Ze(o){const e={};if("buttons"in o&&(e.buttons=o.buttons),"shiftKey"in o){const{shiftKey:n,altKey:t,metaKey:i,ctrlKey:u}=o;Object.assign(e,{shiftKey:n,altKey:t,metaKey:i,ctrlKey:u})}return e}function lt(o,...e){return typeof o=="function"?o(...e):o}function Ge(){}function qe(...o){return o.length===0?Ge:o.length===1?o[0]:function(){let e;for(const n of o)e=n.apply(this,arguments)||e;return e}}function Xt(o,e){return Object.assign({},e,o||{})}const $e=32;class Qe{constructor(e,n,t){this.ctrl=e,this.args=n,this.key=t,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:t,args:i}=this;n[t]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,t=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=t.from?lt(t.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:t,shared:i}=this;n.args=this.args;let u=0;if(e&&(n.event=e,t.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Ze(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,u=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const m=n._delta.map(Math.abs);x.addTo(n._distance,m)}this.axisIntent&&this.axisIntent(e);const[p,a]=n._movement,[l,g]=t.threshold,{_step:c,values:d}=n;if(t.hasCustomTransform?(c[0]===!1&&(c[0]=Math.abs(p)>=l&&d[0]),c[1]===!1&&(c[1]=Math.abs(a)>=g&&d[1])):(c[0]===!1&&(c[0]=Math.abs(p)>=l&&Math.sign(p)*l),c[1]===!1&&(c[1]=Math.abs(a)>=g&&Math.sign(a)*g)),n.intentional=c[0]!==!1||c[1]!==!1,!n.intentional)return;const _=[0,0];if(t.hasCustomTransform){const[m,H]=d;_[0]=c[0]!==!1?m-c[0]:0,_[1]=c[1]!==!1?H-c[1]:0}else _[0]=c[0]!==!1?p-c[0]:0,_[1]=c[1]!==!1?a-c[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(_);const D=n.offset,w=n._active&&!n._blocked||n.active;w&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in t&&(n._bounds=lt(t.bounds,n)),this.setup&&this.setup()),n.movement=_,this.computeOffset()));const[O,P]=n.offset,[[I,k],[S,T]]=n._bounds;n.overflow=[O<I?-1:O>k?1:0,P<S?-1:P>T?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const b=n._active?t.rubberband||[0,0]:[0,0];if(n.offset=Re(n._bounds,n.offset,b),n.delta=x.sub(n.offset,D),this.computeMovement(),w&&(!n.last||u>$e)){n.delta=x.sub(n.offset,D);const m=n.delta.map(Math.abs);x.addTo(n.distance,m),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&u>0&&(n.velocity=[m[0]/u,m[1]/u],n.timeDelta=u)}}emit(){const e=this.state,n=this.shared,t=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!t.triggerAllEvents)return;const i=this.handler(E(E(E({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Je([o,e],n){const t=Math.abs(o),i=Math.abs(e);if(t>i&&t>n)return"x";if(i>t&&i>n)return"y"}class tn extends Qe{constructor(...e){super(...e),L(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=x.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=x.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,t=this.config;if(!n.axis&&e){const i=typeof t.axisThreshold=="object"?t.axisThreshold[ee(e)]:t.axisThreshold;n.axis=Je(n._movement,i)}n._blocked=(t.lockDirection||!!t.axis)&&!n.axis||!!t.axis&&t.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const en=o=>o,Zt=.15,oe={enabled(o=!0){return o},eventOptions(o,e,n){return E(E({},n.shared.eventOptions),o)},preventDefault(o=!1){return o},triggerAllEvents(o=!1){return o},rubberband(o=0){switch(o){case!0:return[Zt,Zt];case!1:return[0,0];default:return x.toVector(o)}},from(o){if(typeof o=="function")return o;if(o!=null)return x.toVector(o)},transform(o,e,n){const t=o||n.shared.transform;return this.hasCustomTransform=!!t,t||en},threshold(o){return x.toVector(o,0)}},nn=0,J=E(E({},oe),{},{axis(o,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(o=nn){return o},bounds(o={}){if(typeof o=="function")return u=>J.bounds(o(u));if("current"in o)return()=>o.current;if(typeof HTMLElement=="function"&&o instanceof HTMLElement)return o;const{left:e=-1/0,right:n=1/0,top:t=-1/0,bottom:i=1/0}=o;return[[e,n],[t,i]]}}),Gt={ArrowRight:(o,e=1)=>[o*e,0],ArrowLeft:(o,e=1)=>[-1*o*e,0],ArrowUp:(o,e=1)=>[0,-1*o*e],ArrowDown:(o,e=1)=>[0,o*e]};class on extends tn{constructor(...e){super(...e),L(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),t=e.currentTarget.getBoundingClientRect(),i={left:n.left-t.left+e.offset[0],right:n.right-t.right+e.offset[0],top:n.top-t.top+e.offset[1],bottom:n.bottom-t.bottom+e.offset[1]};e._bounds=J.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,t=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&t._pointerActive)&&(this.start(e),this.setupPointer(e),t._pointerId=vt(e),t._pointerActive=!0,this.computeValues(Wt(e)),this.computeInitial(),n.preventScrollAxis&&ee(e)!=="mouse"?(t._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,t=this.config;if(!n._pointerActive)return;const i=vt(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const u=Wt(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=x.sub(u,n._values),this.computeValues(u)),x.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(t.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===t.preventScrollAxis||t.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,t=this.config;if(!n._active||!n._pointerActive)return;const i=vt(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[u,p]=n._distance;if(n.tap=u<=t.tapsThreshold&&p<=t.tapsThreshold,n.tap&&t.filterTaps)n._force=!0;else{const[a,l]=n._delta,[g,c]=n._movement,[d,_]=t.swipe.velocity,[D,w]=t.swipe.distance,O=t.swipe.duration;if(n.elapsedTime<O){const P=Math.abs(a/n.timeDelta),I=Math.abs(l/n.timeDelta);P>d&&Math.abs(g)>D&&(n.swipe[0]=Math.sign(a)),I>_&&Math.abs(c)>w&&(n.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,t=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,t,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,t,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,t,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,sn(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=Gt[e.key];if(n){const t=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),t._delta=n(this.config.keyboardDisplacement,i),t._keyboardActive=!0,x.addTo(t._movement,t._delta),this.compute(e),this.emit()}}keyUp(e){e.key in Gt&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function sn(o){"persist"in o&&typeof o.persist=="function"&&o.persist()}const tt=typeof window<"u"&&window.document&&window.document.createElement;function se(){return tt&&"ontouchstart"in window}function rn(){return se()||tt&&window.navigator.maxTouchPoints>1}function an(){return tt&&"onpointerdown"in window}function cn(){return tt&&"exitPointerLock"in window.document}function ln(){try{return"constructor"in GestureEvent}catch{return!1}}const j={isBrowser:tt,gesture:ln(),touch:se(),touchscreen:rn(),pointer:an(),pointerLock:cn()},un=250,hn=180,fn=.5,pn=50,dn=250,mn=10,qt={mouse:0,touch:0,pen:8},gn=E(E({},J),{},{device(o,e,{pointer:{touch:n=!1,lock:t=!1,mouse:i=!1}={}}){return this.pointerLock=t&&j.pointerLock,j.touch&&n?"touch":this.pointerLock?"mouse":j.pointer&&!i?"pointer":j.touch?"touch":"mouse"},preventScrollAxis(o,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&o?un:void 0,!(!j.touchscreen||n===!1))return o||(n!==void 0?"y":void 0)},pointerCapture(o,e,{pointer:{capture:n=!0,buttons:t=1,keys:i=!0}={}}){return this.pointerButtons=t,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(o,e,{filterTaps:n=!1,tapsThreshold:t=3,axis:i=void 0}){const u=x.toVector(o,n?t:i?1:0);return this.filterTaps=n,this.tapsThreshold=t,u},swipe({velocity:o=fn,distance:e=pn,duration:n=dn}={}){return{velocity:this.transform(x.toVector(o)),distance:this.transform(x.toVector(e)),duration:n}},delay(o=0){switch(o){case!0:return hn;case!1:return 0;default:return o}},axisThreshold(o){return o?E(E({},qt),o):qt},keyboardDisplacement(o=mn){return o}});E(E({},oe),{},{device(o,e,{shared:n,pointer:{touch:t=!1}={}}){if(n.target&&!j.touch&&j.gesture)return"gesture";if(j.touch&&t)return"touch";if(j.touchscreen){if(j.pointer)return"pointer";if(j.touch)return"touch"}},bounds(o,e,{scaleBounds:n={},angleBounds:t={}}){const i=p=>{const a=Xt(lt(n,p),{min:-1/0,max:1/0});return[a.min,a.max]},u=p=>{const a=Xt(lt(t,p),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof t!="function"?[i(),u()]:p=>[i(p),u(p)]},threshold(o,e,n){return this.lockDirection=n.axis==="lock",x.toVector(o,this.lockDirection?[.1,3]:0)},modifierKey(o){return o===void 0?"ctrlKey":o},pinchOnWheel(o=!0){return o}});E(E({},J),{},{mouseOnly:(o=!0)=>o});E(E({},J),{},{mouseOnly:(o=!0)=>o});const ie=new Map,_t=new Map;function bn(o){ie.set(o.key,o.engine),_t.set(o.key,o.resolver)}const yn={key:"drag",engine:on,resolver:gn};function vn(o,e){if(o==null)return{};var n={},t=Object.keys(o),i,u;for(u=0;u<t.length;u++)i=t[u],!(e.indexOf(i)>=0)&&(n[i]=o[i]);return n}function _n(o,e){if(o==null)return{};var n=vn(o,e),t,i;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(o);for(i=0;i<u.length;i++)t=u[i],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(o,t)&&(n[t]=o[t])}return n}const En={target(o){if(o)return()=>"current"in o?o.current:o},enabled(o=!0){return o},window(o=j.isBrowser?window:void 0){return o},eventOptions({passive:o=!0,capture:e=!1}={}){return{passive:o,capture:e}},transform(o){return o}},wn=["target","eventOptions","window","enabled","transform"];function at(o={},e){const n={};for(const[t,i]of Object.entries(e))switch(typeof i){case"function":n[t]=i.call(n,o[t],t,o);break;case"object":n[t]=at(o[t],i);break;case"boolean":i&&(n[t]=o[t]);break}return n}function Tn(o,e,n={}){const t=o,{target:i,eventOptions:u,window:p,enabled:a,transform:l}=t,g=_n(t,wn);if(n.shared=at({target:i,eventOptions:u,window:p,enabled:a,transform:l},En),e){const c=_t.get(e);n[e]=at(E({shared:n.shared},g),c)}else for(const c in g){const d=_t.get(c);d&&(n[c]=at(E({shared:n.shared},g[c]),d))}return n}class re{constructor(e,n){L(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,t,i,u){const p=this._listeners,a=He(n,t),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},g=E(E({},l),u);e.addEventListener(a,i,g);const c=()=>{e.removeEventListener(a,i,g),p.delete(c)};return p.add(c),c}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Pn{constructor(){L(this,"_timeouts",new Map)}add(e,n,t=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,t,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class On{constructor(e){L(this,"gestures",new Set),L(this,"_targetEventStore",new re(this)),L(this,"gestureEventStores",{}),L(this,"gestureTimeoutStores",{}),L(this,"handlers",{}),L(this,"config",{}),L(this,"pointerIds",new Set),L(this,"touchIds",new Set),L(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Sn(this,e)}setEventIds(e){if(ut(e))return this.touchIds=new Set(Xe(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=Tn(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,t={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const p of this.gestures){const a=this.config[p],l=$t(t,a.eventOptions,!!i);if(a.enabled){const g=ie.get(p);new g(this,e,p).bind(l)}}const u=$t(t,n.eventOptions,!!i);for(const p in this.nativeHandlers)u(p,"",a=>this.nativeHandlers[p](E(E({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const u in t)t[u]=qe(...t[u]);if(!i)return t;for(const u in t){const{device:p,capture:a,passive:l}=Ve(u);this._targetEventStore.add(i,p,"",t[u],{capture:a,passive:l})}}}}function Z(o,e){o.gestures.add(e),o.gestureEventStores[e]=new re(o,e),o.gestureTimeoutStores[e]=new Pn}function Sn(o,e){e.drag&&Z(o,"drag"),e.wheel&&Z(o,"wheel"),e.scroll&&Z(o,"scroll"),e.move&&Z(o,"move"),e.pinch&&Z(o,"pinch"),e.hover&&Z(o,"hover")}const $t=(o,e,n)=>(t,i,u,p={},a=!1)=>{var l,g;const c=(l=p.capture)!==null&&l!==void 0?l:e.capture,d=(g=p.passive)!==null&&g!==void 0?g:e.passive;let _=a?t:ze(t,i,c);n&&d&&(_+="Passive"),o[_]=o[_]||[],o[_].push(u)};function Dn(o,e={},n,t){const i=bt.useMemo(()=>new On(o),[]);if(i.applyHandlers(o,t),i.applyConfig(e,n),bt.useEffect(i.effect.bind(i)),bt.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function Hn(o,e){return bn(yn),Dn({drag:o},e||{},"drag")}const Bn=o=>(e,n,t)=>{const i=t.subscribe;return t.subscribe=(p,a,l)=>{let g=p;if(a){const c=(l==null?void 0:l.equalityFn)||Object.is;let d=p(t.getState());g=_=>{const D=p(_);if(!c(d,D)){const w=d;a(d=D,w)}},l!=null&&l.fireImmediately&&a(d,d)}return i(g)},o(e,n,t)};var An=Object.defineProperty,Mn=(o,e,n)=>e in o?An(o,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[e]=n,h=(o,e,n)=>(Mn(o,typeof e!="symbol"?e+"":e,n),n);const rt=new Me,Qt=new Ie,In=Math.cos(70*(Math.PI/180)),Jt=(o,e)=>(o%e+e)%e;let kn=class extends ke{constructor(e,n){super(),h(this,"object"),h(this,"domElement"),h(this,"enabled",!0),h(this,"target",new C),h(this,"minDistance",0),h(this,"maxDistance",1/0),h(this,"minZoom",0),h(this,"maxZoom",1/0),h(this,"minPolarAngle",0),h(this,"maxPolarAngle",Math.PI),h(this,"minAzimuthAngle",-1/0),h(this,"maxAzimuthAngle",1/0),h(this,"enableDamping",!1),h(this,"dampingFactor",.05),h(this,"enableZoom",!0),h(this,"zoomSpeed",1),h(this,"enableRotate",!0),h(this,"rotateSpeed",1),h(this,"enablePan",!0),h(this,"panSpeed",1),h(this,"screenSpacePanning",!0),h(this,"keyPanSpeed",7),h(this,"zoomToCursor",!1),h(this,"autoRotate",!1),h(this,"autoRotateSpeed",2),h(this,"reverseOrbit",!1),h(this,"reverseHorizontalOrbit",!1),h(this,"reverseVerticalOrbit",!1),h(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),h(this,"mouseButtons",{LEFT:W.ROTATE,MIDDLE:W.DOLLY,RIGHT:W.PAN}),h(this,"touches",{ONE:X.ROTATE,TWO:X.DOLLY_PAN}),h(this,"target0"),h(this,"position0"),h(this,"zoom0"),h(this,"_domElementKeyEvents",null),h(this,"getPolarAngle"),h(this,"getAzimuthalAngle"),h(this,"setPolarAngle"),h(this,"setAzimuthalAngle"),h(this,"getDistance"),h(this,"listenToKeyEvents"),h(this,"stopListenToKeyEvents"),h(this,"saveState"),h(this,"reset"),h(this,"update"),h(this,"connect"),h(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=s=>{let r=Jt(s,2*Math.PI),f=c.phi;f<0&&(f+=2*Math.PI),r<0&&(r+=2*Math.PI);let y=Math.abs(r-f);2*Math.PI-y<y&&(r<f?r+=2*Math.PI:f+=2*Math.PI),d.phi=r-f,t.update()},this.setAzimuthalAngle=s=>{let r=Jt(s,2*Math.PI),f=c.theta;f<0&&(f+=2*Math.PI),r<0&&(r+=2*Math.PI);let y=Math.abs(r-f);2*Math.PI-y<y&&(r<f?r+=2*Math.PI:f+=2*Math.PI),d.theta=r-f,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=s=>{s.addEventListener("keydown",mt),this._domElementKeyEvents=s},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",mt),this._domElementKeyEvents=null},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(i),t.update(),l=a.NONE},this.update=(()=>{const s=new C,r=new C(0,1,0),f=new Yt().setFromUnitVectors(e.up,r),y=f.clone().invert(),A=new C,Y=new Yt,F=2*Math.PI;return function(){const Ut=t.object.position;f.setFromUnitVectors(e.up,r),y.copy(f).invert(),s.copy(Ut).sub(t.target),s.applyQuaternion(f),c.setFromVector3(s),t.autoRotate&&l===a.NONE&&ht(ue()),t.enableDamping?(c.theta+=d.theta*t.dampingFactor,c.phi+=d.phi*t.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let K=t.minAzimuthAngle,z=t.maxAzimuthAngle;isFinite(K)&&isFinite(z)&&(K<-Math.PI?K+=F:K>Math.PI&&(K-=F),z<-Math.PI?z+=F:z>Math.PI&&(z-=F),K<=z?c.theta=Math.max(K,Math.min(z,c.theta)):c.theta=c.theta>(K+z)/2?Math.max(K,c.theta):Math.min(z,c.theta)),c.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,c.phi)),c.makeSafe(),t.enableDamping===!0?t.target.addScaledVector(D,t.dampingFactor):t.target.add(D),t.zoomToCursor&&U||t.object.isOrthographicCamera?c.radius=pt(c.radius):c.radius=pt(c.radius*_),s.setFromSpherical(c),s.applyQuaternion(y),Ut.copy(t.target).add(s),t.object.matrixAutoUpdate||t.object.updateMatrix(),t.object.lookAt(t.target),t.enableDamping===!0?(d.theta*=1-t.dampingFactor,d.phi*=1-t.dampingFactor,D.multiplyScalar(1-t.dampingFactor)):(d.set(0,0,0),D.set(0,0,0));let q=!1;if(t.zoomToCursor&&U){let $=null;if(t.object instanceof st&&t.object.isPerspectiveCamera){const Q=s.length();$=pt(Q*_);const ot=Q-$;t.object.position.addScaledVector(H,ot),t.object.updateMatrixWorld()}else if(t.object.isOrthographicCamera){const Q=new C(R.x,R.y,0);Q.unproject(t.object),t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/_)),t.object.updateProjectionMatrix(),q=!0;const ot=new C(R.x,R.y,0);ot.unproject(t.object),t.object.position.sub(ot).add(Q),t.object.updateMatrixWorld(),$=s.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),t.zoomToCursor=!1;$!==null&&(t.screenSpacePanning?t.target.set(0,0,-1).transformDirection(t.object.matrix).multiplyScalar($).add(t.object.position):(rt.origin.copy(t.object.position),rt.direction.set(0,0,-1).transformDirection(t.object.matrix),Math.abs(t.object.up.dot(rt.direction))<In?e.lookAt(t.target):(Qt.setFromNormalAndCoplanarPoint(t.object.up,t.target),rt.intersectPlane(Qt,t.target))))}else t.object instanceof it&&t.object.isOrthographicCamera&&(q=_!==1,q&&(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/_)),t.object.updateProjectionMatrix()));return _=1,U=!1,q||A.distanceToSquared(t.object.position)>g||8*(1-Y.dot(t.object.quaternion))>g?(t.dispatchEvent(i),A.copy(t.object.position),Y.copy(t.object.quaternion),q=!1,!0):!1}})(),this.connect=s=>{t.domElement=s,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",Rt),t.domElement.addEventListener("pointerdown",Ct),t.domElement.addEventListener("pointercancel",G),t.domElement.addEventListener("wheel",jt)},this.dispose=()=>{var s,r,f,y,A,Y;t.domElement&&(t.domElement.style.touchAction="auto"),(s=t.domElement)==null||s.removeEventListener("contextmenu",Rt),(r=t.domElement)==null||r.removeEventListener("pointerdown",Ct),(f=t.domElement)==null||f.removeEventListener("pointercancel",G),(y=t.domElement)==null||y.removeEventListener("wheel",jt),(A=t.domElement)==null||A.ownerDocument.removeEventListener("pointermove",dt),(Y=t.domElement)==null||Y.ownerDocument.removeEventListener("pointerup",G),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",mt)};const t=this,i={type:"change"},u={type:"start"},p={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const g=1e-6,c=new Kt,d=new Kt;let _=1;const D=new C,w=new N,O=new N,P=new N,I=new N,k=new N,S=new N,T=new N,b=new N,m=new N,H=new C,R=new N;let U=!1;const v=[],et={};function ue(){return 2*Math.PI/60/60*t.autoRotateSpeed}function nt(){return Math.pow(.95,t.zoomSpeed)}function ht(s){t.reverseOrbit||t.reverseHorizontalOrbit?d.theta+=s:d.theta-=s}function Et(s){t.reverseOrbit||t.reverseVerticalOrbit?d.phi+=s:d.phi-=s}const wt=(()=>{const s=new C;return function(f,y){s.setFromMatrixColumn(y,0),s.multiplyScalar(-f),D.add(s)}})(),Tt=(()=>{const s=new C;return function(f,y){t.screenSpacePanning===!0?s.setFromMatrixColumn(y,1):(s.setFromMatrixColumn(y,0),s.crossVectors(t.object.up,s)),s.multiplyScalar(f),D.add(s)}})(),B=(()=>{const s=new C;return function(f,y){const A=t.domElement;if(A&&t.object instanceof st&&t.object.isPerspectiveCamera){const Y=t.object.position;s.copy(Y).sub(t.target);let F=s.length();F*=Math.tan(t.object.fov/2*Math.PI/180),wt(2*f*F/A.clientHeight,t.object.matrix),Tt(2*y*F/A.clientHeight,t.object.matrix)}else A&&t.object instanceof it&&t.object.isOrthographicCamera?(wt(f*(t.object.right-t.object.left)/t.object.zoom/A.clientWidth,t.object.matrix),Tt(y*(t.object.top-t.object.bottom)/t.object.zoom/A.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function ft(s){t.object instanceof st&&t.object.isPerspectiveCamera||t.object instanceof it&&t.object.isOrthographicCamera?_/=s:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function Pt(s){t.object instanceof st&&t.object.isPerspectiveCamera||t.object instanceof it&&t.object.isOrthographicCamera?_*=s:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function Ot(s){if(!t.zoomToCursor||!t.domElement)return;U=!0;const r=t.domElement.getBoundingClientRect(),f=s.clientX-r.left,y=s.clientY-r.top,A=r.width,Y=r.height;R.x=f/A*2-1,R.y=-(y/Y)*2+1,H.set(R.x,R.y,1).unproject(t.object).sub(t.object.position).normalize()}function pt(s){return Math.max(t.minDistance,Math.min(t.maxDistance,s))}function St(s){w.set(s.clientX,s.clientY)}function he(s){Ot(s),T.set(s.clientX,s.clientY)}function Dt(s){I.set(s.clientX,s.clientY)}function fe(s){O.set(s.clientX,s.clientY),P.subVectors(O,w).multiplyScalar(t.rotateSpeed);const r=t.domElement;r&&(ht(2*Math.PI*P.x/r.clientHeight),Et(2*Math.PI*P.y/r.clientHeight)),w.copy(O),t.update()}function pe(s){b.set(s.clientX,s.clientY),m.subVectors(b,T),m.y>0?ft(nt()):m.y<0&&Pt(nt()),T.copy(b),t.update()}function de(s){k.set(s.clientX,s.clientY),S.subVectors(k,I).multiplyScalar(t.panSpeed),B(S.x,S.y),I.copy(k),t.update()}function me(s){Ot(s),s.deltaY<0?Pt(nt()):s.deltaY>0&&ft(nt()),t.update()}function ge(s){let r=!1;switch(s.code){case t.keys.UP:B(0,t.keyPanSpeed),r=!0;break;case t.keys.BOTTOM:B(0,-t.keyPanSpeed),r=!0;break;case t.keys.LEFT:B(t.keyPanSpeed,0),r=!0;break;case t.keys.RIGHT:B(-t.keyPanSpeed,0),r=!0;break}r&&(s.preventDefault(),t.update())}function At(){if(v.length==1)w.set(v[0].pageX,v[0].pageY);else{const s=.5*(v[0].pageX+v[1].pageX),r=.5*(v[0].pageY+v[1].pageY);w.set(s,r)}}function Mt(){if(v.length==1)I.set(v[0].pageX,v[0].pageY);else{const s=.5*(v[0].pageX+v[1].pageX),r=.5*(v[0].pageY+v[1].pageY);I.set(s,r)}}function It(){const s=v[0].pageX-v[1].pageX,r=v[0].pageY-v[1].pageY,f=Math.sqrt(s*s+r*r);T.set(0,f)}function be(){t.enableZoom&&It(),t.enablePan&&Mt()}function ye(){t.enableZoom&&It(),t.enableRotate&&At()}function kt(s){if(v.length==1)O.set(s.pageX,s.pageY);else{const f=gt(s),y=.5*(s.pageX+f.x),A=.5*(s.pageY+f.y);O.set(y,A)}P.subVectors(O,w).multiplyScalar(t.rotateSpeed);const r=t.domElement;r&&(ht(2*Math.PI*P.x/r.clientHeight),Et(2*Math.PI*P.y/r.clientHeight)),w.copy(O)}function xt(s){if(v.length==1)k.set(s.pageX,s.pageY);else{const r=gt(s),f=.5*(s.pageX+r.x),y=.5*(s.pageY+r.y);k.set(f,y)}S.subVectors(k,I).multiplyScalar(t.panSpeed),B(S.x,S.y),I.copy(k)}function Lt(s){const r=gt(s),f=s.pageX-r.x,y=s.pageY-r.y,A=Math.sqrt(f*f+y*y);b.set(0,A),m.set(0,Math.pow(b.y/T.y,t.zoomSpeed)),ft(m.y),T.copy(b)}function ve(s){t.enableZoom&&Lt(s),t.enablePan&&xt(s)}function _e(s){t.enableZoom&&Lt(s),t.enableRotate&&kt(s)}function Ct(s){var r,f;t.enabled!==!1&&(v.length===0&&((r=t.domElement)==null||r.ownerDocument.addEventListener("pointermove",dt),(f=t.domElement)==null||f.ownerDocument.addEventListener("pointerup",G)),Oe(s),s.pointerType==="touch"?Te(s):Ee(s))}function dt(s){t.enabled!==!1&&(s.pointerType==="touch"?Pe(s):we(s))}function G(s){var r,f,y;Se(s),v.length===0&&((r=t.domElement)==null||r.releasePointerCapture(s.pointerId),(f=t.domElement)==null||f.ownerDocument.removeEventListener("pointermove",dt),(y=t.domElement)==null||y.ownerDocument.removeEventListener("pointerup",G)),t.dispatchEvent(p),l=a.NONE}function Ee(s){let r;switch(s.button){case 0:r=t.mouseButtons.LEFT;break;case 1:r=t.mouseButtons.MIDDLE;break;case 2:r=t.mouseButtons.RIGHT;break;default:r=-1}switch(r){case W.DOLLY:if(t.enableZoom===!1)return;he(s),l=a.DOLLY;break;case W.ROTATE:if(s.ctrlKey||s.metaKey||s.shiftKey){if(t.enablePan===!1)return;Dt(s),l=a.PAN}else{if(t.enableRotate===!1)return;St(s),l=a.ROTATE}break;case W.PAN:if(s.ctrlKey||s.metaKey||s.shiftKey){if(t.enableRotate===!1)return;St(s),l=a.ROTATE}else{if(t.enablePan===!1)return;Dt(s),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&t.dispatchEvent(u)}function we(s){if(t.enabled!==!1)switch(l){case a.ROTATE:if(t.enableRotate===!1)return;fe(s);break;case a.DOLLY:if(t.enableZoom===!1)return;pe(s);break;case a.PAN:if(t.enablePan===!1)return;de(s);break}}function jt(s){t.enabled===!1||t.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(s.preventDefault(),t.dispatchEvent(u),me(s),t.dispatchEvent(p))}function mt(s){t.enabled===!1||t.enablePan===!1||ge(s)}function Te(s){switch(Nt(s),v.length){case 1:switch(t.touches.ONE){case X.ROTATE:if(t.enableRotate===!1)return;At(),l=a.TOUCH_ROTATE;break;case X.PAN:if(t.enablePan===!1)return;Mt(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(t.touches.TWO){case X.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;be(),l=a.TOUCH_DOLLY_PAN;break;case X.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;ye(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&t.dispatchEvent(u)}function Pe(s){switch(Nt(s),l){case a.TOUCH_ROTATE:if(t.enableRotate===!1)return;kt(s),t.update();break;case a.TOUCH_PAN:if(t.enablePan===!1)return;xt(s),t.update();break;case a.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;ve(s),t.update();break;case a.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;_e(s),t.update();break;default:l=a.NONE}}function Rt(s){t.enabled!==!1&&s.preventDefault()}function Oe(s){v.push(s)}function Se(s){delete et[s.pointerId];for(let r=0;r<v.length;r++)if(v[r].pointerId==s.pointerId){v.splice(r,1);return}}function Nt(s){let r=et[s.pointerId];r===void 0&&(r=new N,et[s.pointerId]=r),r.set(s.pageX,s.pageY)}function gt(s){const r=s.pointerId===v[0].pointerId?v[1]:v[0];return et[r.pointerId]}n!==void 0&&this.connect(n),this.update()}};function Xn(o,e){if(Object.is(o,e))return!0;if(typeof o!="object"||o===null||typeof e!="object"||e===null)return!1;const n=Object.keys(o);if(n.length!==Object.keys(e).length)return!1;for(let t=0;t<n.length;t++)if(!Object.prototype.hasOwnProperty.call(e,n[t])||!Object.is(o[n[t]],e[n[t]]))return!1;return!0}const xn=()=>parseInt(xe.replace(/\D+/g,"")),Ln=xn(),Zn=M.forwardRef(({makeDefault:o,camera:e,regress:n,domElement:t,enableDamping:i=!0,keyEvents:u=!1,onChange:p,onStart:a,onEnd:l,...g},c)=>{const d=V(m=>m.invalidate),_=V(m=>m.camera),D=V(m=>m.gl),w=V(m=>m.events),O=V(m=>m.setEvents),P=V(m=>m.set),I=V(m=>m.get),k=V(m=>m.performance),S=e||_,T=t||w.connected||D.domElement,b=M.useMemo(()=>new kn(S),[S]);return Le(()=>{b.enabled&&b.update()},-1),M.useEffect(()=>(u&&b.connect(u===!0?T:u),b.connect(T),()=>void b.dispose()),[u,T,n,b,d]),M.useEffect(()=>{const m=U=>{d(),n&&k.regress(),p&&p(U)},H=U=>{a&&a(U)},R=U=>{l&&l(U)};return b.addEventListener("change",m),b.addEventListener("start",H),b.addEventListener("end",R),()=>{b.removeEventListener("start",H),b.removeEventListener("end",R),b.removeEventListener("change",m)}},[p,a,l,b,d,O]),M.useEffect(()=>{if(o){const m=I().controls;return P({controls:b}),()=>P({controls:m})}},[o,b]),M.createElement("primitive",ct({ref:c,object:b,enableDamping:i},g))});var ae={exports:{}},Cn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jn=Cn,Rn=jn;function ce(){}function le(){}le.resetWarningCache=ce;var Nn=function(){function o(t,i,u,p,a,l){if(l!==Rn){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}o.isRequired=o;function e(){return o}var n={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:e,element:o,elementType:o,instanceOf:e,node:o,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:le,resetWarningCache:ce};return n.PropTypes=n,n};ae.exports=Nn();var Un=ae.exports;const Gn=Ae(Un),Yn=M.createContext(null),qn=M.forwardRef(({castShadow:o=!0,bias:e=.001,mapSize:n=512,size:t=5,near:i=.5,far:u=500,frames:p=1,position:a=[0,0,0],radius:l=1,amount:g=8,intensity:c=Ln>=155?Math.PI:1,ambient:d=.5,..._},D)=>{const w=M.useRef(null),O=new C(...a).length(),P=M.useContext(Yn),I=M.useCallback(()=>{let S;if(w.current)for(let T=0;T<w.current.children.length;T++)if(S=w.current.children[T],Math.random()>d)S.position.set(a[0]+yt.randFloatSpread(l),a[1]+yt.randFloatSpread(l),a[2]+yt.randFloatSpread(l));else{let b=Math.acos(2*Math.random()-1)-Math.PI/2,m=2*Math.PI*Math.random();S.position.set(Math.cos(b)*Math.cos(m)*O,Math.abs(Math.cos(b)*Math.sin(m)*O),Math.sin(b)*O)}},[l,d,O,...a]),k=M.useMemo(()=>({update:I}),[I]);return M.useImperativeHandle(D,()=>k,[k]),M.useLayoutEffect(()=>{var S;const T=w.current;return P&&((S=P.lights)==null||S.set(T.uuid,k)),()=>{var b;return void(P==null||(b=P.lights)==null?void 0:b.delete(T.uuid))}},[P,k]),M.createElement("group",ct({ref:w},_),Array.from({length:g},(S,T)=>M.createElement("directionalLight",{key:T,castShadow:o,"shadow-bias":e,"shadow-mapSize":[n,n],intensity:c/g},M.createElement("orthographicCamera",{attach:"shadow-camera",args:[-t,t,t,-t,i,u]}))))});export{Zn as O,Gn as P,qn as R,Bn as a,Ce as c,Xn as s,Hn as u};
